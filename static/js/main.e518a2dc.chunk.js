(window.webpackJsonpminesweeper=window.webpackJsonpminesweeper||[]).push([[0],{18:function(e,t,a){e.exports=a(42)},23:function(e,t,a){},24:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),s=a.n(i),o=(a(23),a(2)),c=a(3),l=a(5),m=a(4),u=a(6),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a.millisToMinutesAndSeconds=function(e){var t=Math.floor(e/3600),a=Math.floor(e/60%60),n=(e%60).toFixed(0);return(t<10?"0":"")+t+":"+(a<10?"0":"")+a+":"+(n<10?"0":"")+n},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.mines?r.a.createElement("div",{className:"game-info"},r.a.createElement("span",{className:"info"},"Mines remaining: ",this.props.mineRemain),r.a.createElement("h1",{className:"info"},this.millisToMinutesAndSeconds(this.props.time))):null}}]),t}(n.Component),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.mines)return null;var t=this.props.board.map(function(t,a){return r.a.createElement("div",{className:"clearfix",key:a},t.map(function(t,n){return r.a.createElement("div",{key:a+"-"+n,className:t.isClick?"cell hidden":"cell",onClick:e.props.check.bind(e,a,n),onContextMenu:e.props.mark.bind(e,a,n)},t.value)}))});return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"loader-box"},r.a.createElement("svg",{className:"loader"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"#8ad3ff",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"})),r.a.createElement("svg",{className:"loader loader-2"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"#ce9178",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"})),r.a.createElement("svg",{className:"loader loader-3"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"#b869a0",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"})),r.a.createElement("svg",{className:"loader loader-4"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"#5d8a4e",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"})),r.a.createElement("svg",{className:"loader loader-5"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"black",strokeWidth:"6",strokeLinecap:"round"})),r.a.createElement("svg",{className:"loader loader-6"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"#4387cf",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"})),r.a.createElement("svg",{className:"loader loader-7"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"b86cb4",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"})),r.a.createElement("svg",{className:"loader loader-8"},r.a.createElement("circle",{cx:"75",cy:"75",r:"60",fill:"transparent",stroke:"#d4d797",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"385",strokeDashoffset:"385"}))),r.a.createElement("div",{className:"loading-page-backdrop"})):null}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a.millisToMinutesAndSeconds=function(e){var t=Math.floor(e/3600),a=Math.floor(e/60%60),n=(e%60).toFixed(0);return(t<10?"0":"")+t+":"+(a<10?"0":"")+a+":"+(n<10?"0":"")+n},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!this.props.notify)return!1;var e=10===this.props.mines?9:16;return r.a.createElement("div",{className:"messagebox"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"body"},"You ",this.props.isWin?"won":"lost"," the game in ",this.millisToMinutesAndSeconds(this.props.time)),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:this.props.newGame.bind(this,e,this.props.mines)},"New Game"),r.a.createElement("button",{onClick:this.props.backHomePage},"Home Page"))))}}]),t}(n.Component),p=(a(24),a(17)),v=a.n(p),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a.state={loading:!1,isWin:!1,notify:!1,board:[],mines:0,time:0,mineRemain:0,mark:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setGame",value:function(e,t){var a=this;this.setState({loading:!0,isWin:!1,notify:!1,time:0});for(var n=[],r=0;r<e;r++){n.push([]);for(var i=0;i<e;i++)n[r].push({isMine:!1,value:"",x:i,y:r})}v.a.get("https://tiki-minesweeper.herokuapp.com/getMines",{params:{size:e,mines:t}}).then(function(e){e.data.data.forEach(function(e){n[e.y][e.x].isMine=!0}),a.setState({board:n,mines:t,mineRemain:t,loading:!1}),a.tick()})}},{key:"tick",value:function(){var e=this;this.intervalID=setInterval(function(){e.setState({time:e.state.time+1})},1e3)}},{key:"checkNumber",value:function(e,t){var a=this,n=this.state.board,r=0;n[e][t].isClick=!0;for(var i=e-1,s=e+2;i<s;i++)for(var o=t-1,c=t+2;o<c;o++)((n[i]||[])[o]||{}).isMine&&r++;r?n[e][t].value=r:(n[e][t].value="",this.traverseBoard(e,t).forEach(function(e){e.isClick||e.isMine||a.checkNumber(e.y,e.x)}));this.setState({board:n})}},{key:"traverseBoard",value:function(e,t){var a=this.state,n=a.board,r=10===a.mines?9:16,i=[];return e>0&&i.push(n[e-1][t]),e<r-1&&i.push(n[e+1][t]),t>0&&i.push(n[e][t-1]),t<r-1&&i.push(n[e][t+1]),e>0&&t>0&&i.push(n[e-1][t-1]),e>0&&t<r-1&&i.push(n[e-1][t+1]),e<r-1&&t<r-1&&i.push(n[e+1][t+1]),e<r-1&&t>0&&i.push(n[e+1][t-1]),i}},{key:"checkGame",value:function(e,t){var a=this.state.board;if(a[e][t].isClick)return!1;if(a[e][t].isMine){a[e][t].value="\ud83d\udca3",clearInterval(this.intervalID);for(var n=0,r=a.length;n<r;n++)for(var i=0;i<r;i++)a[n][i].isMine&&(a[n][i].value="\ud83d\udca3");this.setState({board:a,notify:!0})}else this.checkNumber(e,t),this.checkWin()&&(clearInterval(this.intervalID),this.setState({notify:!0,isWin:!0}))}},{key:"checkWin",value:function(){for(var e=this.state,t=e.board,a=10===e.mines?71:216,n=0,r=0,i=t.length;r<i;r++)for(var s=0;s<i;s++)t[r][s].isClick&&n++;return n===a}},{key:"markCell",value:function(e,t,a){a.preventDefault();var n=this.state,r=n.board,i=n.mines,s=this.state,o=s.mineRemain,c=s.mark;if(r[e][t].isClick)return!1;r[e][t].value?(r[e][t].value="",o=c>i?o:o+1,c-=1):(r[e][t].value="\ud83d\udea9",o=0===o?0:o-1,c+=1),this.setState({board:r,mineRemain:o,mark:c})}},{key:"backHomePage",value:function(){this.setState({loading:!1,isWin:!1,notify:!1,board:[],mines:0,time:0,mineRemain:0,mark:0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.notify,i=t.isWin,s=t.board,o=t.mines,c=t.time,l=t.mineRemain;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"game"},o?"":r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:this.setGame.bind(this,9,10)},"Beginner"),r.a.createElement("button",{type:"submit",onClick:this.setGame.bind(this,16,40)},"Advantage")),r.a.createElement(h,{time:c,mineRemain:l,mines:o}),r.a.createElement(d,{board:s,mines:o,check:this.checkGame.bind(this),mark:function(t,a,n){return e.markCell(t,a,n)}})),r.a.createElement(f,{loading:a}),r.a.createElement(k,{mines:o,time:c,notify:n,isWin:i,newGame:this.setGame.bind(this),backHomePage:this.backHomePage.bind(this)}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.e518a2dc.chunk.js.map